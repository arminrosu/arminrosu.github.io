!function(jQuery){function a(a,b,c,d){var e={data:d||0===d||d===!1?d:b?b.data:{},_wrap:b?b._wrap:null,tmpl:null,parent:b||null,nodes:[],calls:i,nest:j,wrap:k,html:l,update:m};return a&&jQuery.extend(e,a,{nodes:[],parent:b}),c&&(e.tmpl=c,e._ctnt=e._ctnt||e.tmpl(jQuery,e),e.key=++u,(w.length?s:r)[u]=e),e}function b(a,d,e){var f,g=e?jQuery.map(e,function(c){return"string"==typeof c?a.key?c.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+p+'="'+a.key+'" $2'):c:b(c,a,c._ctnt)}):a;return d?g:(g=g.join(""),g.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(a,b,d,e){f=jQuery(d).get(),h(f),b&&(f=c(b).concat(f)),e&&(f=f.concat(c(e)))}),f?f:c(g))}function c(a){var b=document.createElement("div");return b.innerHTML=a,jQuery.makeArray(b.childNodes)}function d(a){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+jQuery.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(a,b,c,d,e,g,h){var i,j,k,l=jQuery.tmpl.tag[c];if(!l)throw"Unknown template tag: "+c;return i=l._default||[],g&&!/\w$/.test(e)&&(e+=g,g=""),e?(e=f(e),h=h?","+f(h)+")":g?")":"",j=g?e.indexOf(".")>-1?e+f(g):"("+e+").call($item"+h:e,k=g?j:"(typeof("+e+")==='function'?("+e+").call($item):("+e+"))"):k=j=i.$1||"null",d=f(d),"');"+l[b?"close":"open"].split("$notnull_1").join(e?"typeof("+e+")!=='undefined' && ("+e+")!=null":"true").split("$1a").join(k).split("$1").join(j).split("$2").join(d||i.$2||"")+"__.push('"})+"');}return __;")}function e(a,c){a._wrap=b(a,!0,jQuery.isArray(c)?c:[q.test(c)?c:jQuery(c).html()]).join("")}function f(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function g(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML}function h(b){function c(b){function c(b){b+=i,f=j[b]=j[b]||a(f,r[f.parent.key+i]||f.parent)}var d,e,f,g,h=b;if(g=b.getAttribute(p)){for(;h.parentNode&&1===(h=h.parentNode).nodeType&&!(d=h.getAttribute(p)););d!==g&&(h=h.parentNode?11===h.nodeType?0:h.getAttribute(p)||0:0,(f=r[g])||(f=s[g],f=a(f,r[h]||s[h]),f.key=++u,r[u]=f),v&&c(g)),b.removeAttribute(p)}else v&&(f=jQuery.data(b,"tmplItem"))&&(c(f.key),r[f.key]=f,h=jQuery.data(b.parentNode,"tmplItem"),h=h?h.key:0);if(f){for(e=f;e&&e.key!=h;)e.nodes.push(b),e=e.parent;delete f._ctnt,delete f._wrap,jQuery.data(b,"tmplItem",f)}}var d,e,f,g,h,i="_"+v,j={};for(f=0,g=b.length;g>f;f++)if(1===(d=b[f]).nodeType){for(e=d.getElementsByTagName("*"),h=e.length-1;h>=0;h--)c(e[h]);c(d)}}function i(a,b,c,d){return a?(w.push({_:a,tmpl:b,item:this,data:c,options:d}),void 0):w.pop()}function j(a,b,c){return jQuery.tmpl(jQuery.template(a),b,c,this)}function k(a,b){var c=a.options||{};return c.wrapped=b,jQuery.tmpl(jQuery.template(a.tmpl),a.data,c,a.item)}function l(a,b){var c=this._wrap;return jQuery.map(jQuery(jQuery.isArray(c)?c.join(""):c).filter(a||"*"),function(a){return b?a.innerText||a.textContent:a.outerHTML||g(a)})}function m(){var a=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(a[0]),jQuery(a).remove()}var n,o=jQuery.fn.domManip,p="_tmplitem",q=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,r={},s={},t={key:0,data:{}},u=0,v=0,w=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(c){var d,e,f,g,h=[],i=jQuery(c),j=1===this.length&&this[0].parentNode;if(n=r||{},j&&11===j.nodeType&&1===j.childNodes.length&&1===i.length)i[b](this[0]),h=this;else{for(e=0,f=i.length;f>e;e++)v=e,d=(e>0?this.clone(!0):this).get(),jQuery(i[e])[b](d),h=h.concat(d);v=0,h=this.pushStack(h,a,i.selector)}return g=n,n=null,jQuery.tmpl.complete(g),h}}),jQuery.fn.extend({tmpl:function(a,b,c){return jQuery.tmpl(this[0],a,b,c)},tmplItem:function(){return jQuery.tmplItem(this[0])},template:function(a){return jQuery.template(a,this[0])},domManip:function(a,b,c){if(a[0]&&jQuery.isArray(a[0])){for(var d,e=jQuery.makeArray(arguments),f=a[0],g=f.length,h=0;g>h&&!(d=jQuery.data(f[h++],"tmplItem")););d&&v&&(e[2]=function(a){jQuery.tmpl.afterManip(this,a,c)}),o.apply(this,e)}else o.apply(this,arguments);return v=0,n||jQuery.tmpl.complete(r),this}}),jQuery.extend({tmpl:function(c,d,f,g){var h,i=!g;if(i)g=t,c=jQuery.template[c]||jQuery.template(null,c),s={};else if(!c)return c=g.tmpl,r[g.key]=g,g.nodes=[],g.wrapped&&e(g,g.wrapped),jQuery(b(g,null,g.tmpl(jQuery,g)));return c?("function"==typeof d&&(d=d.call(g||{})),f&&f.wrapped&&e(f,f.wrapped),h=jQuery.isArray(d)?jQuery.map(d,function(b){return b?a(f,g,c,b):null}):[a(f,g,c,d)],i?jQuery(b(g,null,h)):h):[]},tmplItem:function(a){var b;for(a instanceof jQuery&&(a=a[0]);a&&1===a.nodeType&&!(b=jQuery.data(a,"tmplItem"))&&(a=a.parentNode););return b||t},template:function(a,b){return b?("string"==typeof b?b=d(b):b instanceof jQuery&&(b=b[0]||{}),b.nodeType&&(b=jQuery.data(b,"tmpl")||jQuery.data(b,"tmpl",d(b.innerHTML))),"string"==typeof a?jQuery.template[a]=b:b):a?"string"!=typeof a?jQuery.template(null,a):jQuery.template[a]||jQuery.template(null,q.test(a)?a:jQuery(a)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){r={}},afterManip:function(a,b,c){var d=11===b.nodeType?jQuery.makeArray(b.childNodes):1===b.nodeType?[b]:[];c.call(a,b),h(d),v++}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(){var b=c(this),g=f.settings;return isNaN(b.datetime)||(0==g.cutoff||e(b.datetime)<g.cutoff)&&a(this).text(d(b.datetime)),this}function c(b){if(b=a(b),!b.data("timeago")){b.data("timeago",{datetime:f.datetime(b)});var c=a.trim(b.text());f.settings.localeTitle?b.attr("title",b.data("timeago").datetime.toLocaleString()):!(c.length>0)||f.isTime(b)&&b.attr("title")||b.attr("title",c)}return b.data("timeago")}function d(a){return f.inWords(e(a))}function e(a){return(new Date).getTime()-a.getTime()}a.timeago=function(b){return b instanceof Date?d(b):"string"==typeof b?d(a.timeago.parse(b)):"number"==typeof b?d(new Date(b)):d(a.timeago.datetime(b))};var f=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(b){function c(c,e){var f=a.isFunction(c)?c(e,b):c,g=d.numbers&&d.numbers[e]||e;return f.replace(/%d/i,g)}var d=this.settings.strings,e=d.prefixAgo,f=d.suffixAgo;this.settings.allowFuture&&0>b&&(e=d.prefixFromNow,f=d.suffixFromNow);var g=Math.abs(b)/1e3,h=g/60,i=h/60,j=i/24,k=j/365,l=45>g&&c(d.seconds,Math.round(g))||90>g&&c(d.minute,1)||45>h&&c(d.minutes,Math.round(h))||90>h&&c(d.hour,1)||24>i&&c(d.hours,Math.round(i))||42>i&&c(d.day,1)||30>j&&c(d.days,Math.round(j))||45>j&&c(d.month,1)||365>j&&c(d.months,Math.round(j/30))||1.5>k&&c(d.year,1)||c(d.years,Math.round(k)),m=d.wordSeparator||"";return void 0===d.wordSeparator&&(m=" "),a.trim([e,l,f].join(m))},parse:function(b){var c=a.trim(b);return c=c.replace(/\.\d+/,""),c=c.replace(/-/,"/").replace(/-/,"/"),c=c.replace(/T/," ").replace(/Z/," UTC"),c=c.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(c)},datetime:function(b){var c=f.isTime(b)?a(b).attr("datetime"):a(b).attr("title");return f.parse(c)},isTime:function(b){return"time"===a(b).get(0).tagName.toLowerCase()}});var g={init:function(){var c=a.proxy(b,this);c();var d=f.settings;d.refreshMillis>0&&(this._timeagoInterval=setInterval(c,d.refreshMillis))},update:function(c){a(this).data("timeago",{datetime:f.parse(c)}),b.apply(this)},updateFromDOM:function(){a(this).data("timeago",{datetime:f.parse(f.isTime(this)?a(this).attr("datetime"):a(this).attr("title"))}),b.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};a.fn.timeago=function(a,b){var c=a?g[a]:g.init;if(!c)throw new Error("Unknown function name '"+a+"' for timeago");return this.each(function(){c.call(this,b)}),this},document.createElement("abbr"),document.createElement("time")}),function(a){"use strict";a.fn.lifestream=function(b){return this.each(function(){var c=a(this),d=jQuery.extend({classname:"lifestream",feedloaded:null,limit:10,list:[]},b),e={count:d.list.length,items:[]},f=jQuery.extend(!0,{},d),g=function(b){a.merge(e.items,b),e.items.sort(function(a,b){return b.date-a.date});for(var f,g=e.items,h=g.length<d.limit?g.length:d.limit,i=0,j=a('<ul class="'+d.classname+'"/>');h>i;i++)f=g[i],f.html&&a('<li class="'+d.classname+"-"+f.config.service+'">').data("name",f.config.service).data("url",f.url||"#").data("time",f.date).append(f.html).appendTo(j);c.html(j),a.isFunction(d.feedloaded)&&d.feedloaded()},h=function(){var b=0,c=d.list.length;for(delete f.list;c>b;b++){var e=d.list[b];a.fn.lifestream.feeds[e.service]&&a.isFunction(a.fn.lifestream.feeds[e.service])&&e.user&&(e._settings=f,a.fn.lifestream.feeds[e.service](e,g))}};jQuery.tmpl?h():jQuery.getScript("//ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js",h)})},a.fn.lifestream.createYqlUrl=function(a){return"http://query.yahooapis.com/v1/public/yql?q=__QUERY__&env=store://datatables.org/alltableswithkeys&format=json".replace("__QUERY__",encodeURIComponent(a))},a.fn.lifestream.feeds=a.fn.lifestream.feeds||{},Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c})}(jQuery),function(a){a.fn.lifestream.feeds.disqus=function(b,c){var d=a.extend({},{post:'commented on <a href="${url}">${thread.title}</a>',thread_like:'liked <a href="${url}">${thread.title}</a>'},b.template),e=function(c){var e,f,g=[],h=0;if(c)for(e=c.length;e>h;h++)f=c[h],"reply"!==f.type&&g.push({date:new Date(f.createdAt),config:b,html:a.tmpl(d[f.type],f.object)});return g};return a.ajax({url:"https://disqus.com/api/3.0/users/listActivity.json",data:{user:b.user,api_key:b.key},dataType:"jsonp",success:function(a){return 2===a.code?(c([]),console&&console.error&&console.error("Error loading Disqus stream.",a.response),void 0):(c(e(a.response)),void 0)}}),{template:d}}}(jQuery),function(a){"use strict";a.fn.lifestream.feeds.fancy=function(b,c){var d=a.extend({},{fancied:'fancy\'d <a href="${link}">${title}</a>'},b.template),e=function(c){var e,f=[],g=0;if(c.query&&c.query.count&&c.query.count>0)for(e=c.query.count;e>g;g++){var h=c.query.results.item[g];f.push({date:new Date(h.pubDate),config:b,html:a.tmpl(d.fancied,h)})}return f};return a.ajax({url:a.fn.lifestream.createYqlUrl('SELECT * FROM xml WHERE url="http://www.fancy.com/rss/'+b.user+'" AND itemPath="/rss/channel/item"'),dataType:"jsonp",success:function(a){c(e(a))}}),{template:d}}}(jQuery),function(a){a.fn.lifestream.feeds.github=function(b,c){var d=a.extend({},{commitCommentEvent:'commented on <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',createBranchEvent:'created branch <a href="http://github.com/${status.repo.name}/tree/${status.payload.ref}">${status.payload.ref}</a> at <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',createRepositoryEvent:'created repository <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',createTagEvent:'created tag <a href="http://github.com/${status.repo.name}/tree/${status.payload.ref}">${status.payload.ref}</a> at <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',deleteBranchEvent:'deleted branch ${status.payload.ref} at <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',deleteTagEvent:'deleted tag ${status.payload.ref} at <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',followEvent:'started following <a href="http://github.com/${status.payload.target.login}">${status.payload.target.login}</a>',forkEvent:'forked <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',gistEvent:'${status.payload.action} gist <a href="http://gist.github.com/${status.payload.gist.id}">${status.payload.gist.id}</a>',issueCommentEvent:'commented on issue <a href="http://github.com/${status.repo.name}/issues/${status.payload.issue.number}">${status.payload.issue.number}</a> on <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',issuesEvent:'${status.payload.action} issue <a href="http://github.com/${status.repo.name}/issues/${status.payload.issue.number}">${status.payload.issue.number}</a> on <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',pullRequestEvent:'${status.payload.action} pull request <a href="http://github.com/${status.repo.name}/pull/${status.payload.number}">${status.payload.number}</a> on <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',pushEvent:'pushed to <a href="http://github.com/${status.repo.name}/tree/${status.payload.ref}">${status.payload.ref}</a> at <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>',watchEvent:'started watching <a href="http://github.com/${status.repo.name}">${status.repo.name}</a>'},b.template),e=function(b){return"CommitCommentEvent"===b.type?a.tmpl(d.commitCommentEvent,{status:b}):"CreateEvent"===b.type&&"branch"===b.payload.ref_type?a.tmpl(d.createBranchEvent,{status:b}):"CreateEvent"===b.type&&"repository"===b.payload.ref_type?a.tmpl(d.createRepositoryEvent,{status:b}):"CreateEvent"===b.type&&"tag"===b.payload.ref_type?a.tmpl(d.createTagEvent,{status:b}):"DeleteEvent"===b.type&&"branch"===b.payload.ref_type?a.tmpl(d.deleteBranchEvent,{status:b}):"DeleteEvent"===b.type&&"tag"===b.payload.ref_type?a.tmpl(d.deleteTagEvent,{status:b}):"FollowEvent"===b.type?a.tmpl(d.followEvent,{status:b}):"ForkEvent"===b.type?a.tmpl(d.forkEvent,{status:b}):"GistEvent"===b.type?("create"===b.payload.action?b.payload.action="created":"update"===b.payload.action&&(b.payload.action="updated"),a.tmpl(d.gistEvent,{status:b})):"IssueCommentEvent"===b.type?a.tmpl(d.issueCommentEvent,{status:b}):"IssuesEvent"===b.type?a.tmpl(d.issuesEvent,{status:b}):"PullRequestEvent"===b.type?a.tmpl(d.pullRequestEvent,{status:b}):"PushEvent"===b.type?(b.payload.ref=b.payload.ref.split("/")[2],a.tmpl(d.pushEvent,{status:b})):"WatchEvent"===b.type?a.tmpl(d.watchEvent,{status:b}):void 0},f=function(a){var c,d=[],f=0;if(a.query&&a.query.count&&a.query.count>0)for(c=a.query.count;c>f;f++){var g=a.query.results.json[f].json;d.push({date:new Date(g.created_at),config:b,html:e(g),url:"https://github.com/"+b.user})}return d};return a.ajax({url:a.fn.lifestream.createYqlUrl('select json.type, json.actor, json.repo, json.payload, json.created_at from json where url="https://api.github.com/users/'+b.user+'/events/public?per_page=100"'),dataType:"jsonp",success:function(a){c(f(a))}}),{template:d}}}(jQuery),function(a){a.fn.lifestream.feeds.googleplus=function(b,c){var d=a.extend({},{posted:'<a href="${actor.url}">${actor.displayName}</a> has posted a new entry <a href="${url}" title="${id}">${title}</a> <!--With--> ${object.replies.totalItems} replies, ${object.plusoners.totalItems} +1s, ${object.resharers.totalItems} Reshares'},b.template),e=function(c){var e,f,g=[],h=0;if(c&&c.items)for(e=c.items.length;e>h;h++)f=c.items[h],g.push({date:new Date(f.published),config:b,html:a.tmpl(d.posted,f)});return g};return a.ajax({url:"https://www.googleapis.com/plus/v1/people/"+b.user+"/activities/public",data:{key:b.key},dataType:"jsonp",success:function(a){return a.error?(c([]),console&&console.error&&console.error("Error loading Google+ stream.",a.error),void 0):(c(e(a)),void 0)}}),{template:d}}}(jQuery),function(a){"use strict";a.fn.lifestream.feeds.linkedin=function(b,c){var d=a.extend({},{posted:'<a href="${link}">${title}</a>'},b.template),e="jlsLinkedinCallback"+b.user,f=function(){var a='SELECT * FROM feed WHERE url="'+b.url+'"';return b.user&&(a+=' AND link LIKE "%'+b.user+'%"'),a},g=function(c){return{date:new Date(c.pubDate),config:b,html:a.tmpl(d.posted,c)}};return window[e]=function(a){var b=[],d=0;if(a.query&&a.query.count&&a.query.count>0)if(1===a.query.count)b.push(g(a.query.results.item));else for(d;d<a.query.count;d++){var e=a.query.results.item[d];b.push(g(e))}c(b)},a.ajax({url:a.fn.lifestream.createYqlUrl(f()),cache:!0,data:{_maxage:300},dataType:"jsonp",jsonpCallback:e}),{template:d}}}(jQuery),function(a){a.fn.lifestream.feeds.quora=function(b,c){var d=a.extend({},{posted:'<a href="${link}">${title}</a>'},b.template),e=function(c){var e,f,g=[],h=0;if(c.query&&c.query.count&&c.query.count>0)for(e=c.query.results.rss.channel.item,f=e.length;f>h;h++){var i=e[h];g.push({url:"http://www.google.com/reader/shared"+b.user,date:new Date(i.pubDate),config:b,html:a.tmpl(d.posted,i)})}return g};return a.ajax({url:a.fn.lifestream.createYqlUrl('select * from xml where url="http://www.quora.com/'+b.user+'/rss"'),dataType:"jsonp",success:function(a){c(e(a))}}),{template:d}}}(jQuery),function(a){a.fn.lifestream.feeds.stackoverflow=function(b,c){var d=a.extend({},{global:'<a href="${link}">${text}</a> - ${title}'},b.template),e=function(a){var c="",d="",e="",f="http://stackoverflow.com/users/"+b.user,g="http://stackoverflow.com/questions/";return"badge"===a.timeline_type?(c="was "+a.action+" the '"+a.description+"' badge",d=a.detail,e=f+"?tab=reputation"):"comment"===a.timeline_type?(c="commented on",d=a.description,e=g+a.post_id):("revision"===a.timeline_type||"accepted"===a.timeline_type||"askoranswered"===a.timeline_type)&&(c="askoranswered"===a.timeline_type?a.action:a.action+" "+a.post_type,d=a.detail||a.description||"",e=g+a.post_id),{link:e,title:d,text:c}},f=function(a){return new Date(1e3*a)};return a.ajax({url:"http://api.stackoverflow.com/1.1/users/"+b.user+"/timeline?jsonp",dataType:"jsonp",jsonp:"jsonp",success:function(g){var h,i=[],j=0;if(g&&g.total&&g.total>0&&g.user_timelines)for(h=g.user_timelines.length;h>j;j++){var k=g.user_timelines[j];i.push({date:f(k.creation_date),config:b,html:a.tmpl(d.global,e(k))})}c(i)}}),{template:d}}}(jQuery),function(a){"use strict";a.fn.lifestream.feeds.twitter=function(b,c){var d='USE "http://yqlblog.net/samples/data.html.cssselect.xml" AS data.html.cssselect; SELECT * FROM data.html.cssselect WHERE url = "https://twitter.com/'+b.user+'"'+' AND css = ".js-stream-tweet"',e=a.extend({},{posted:"{{html tweet}}"},b.template),f=function(a){var b=function(a){return a.replace(/[a-z]+:\/\/[a-z0-9\-_]+\.[a-z0-9\-_:~%&\?\/.=]+[^:\.,\)\s*$]/gi,function(a){return'<a href="'+a+'">'+(a.length>25?a.substr(0,24)+"...":a)+"</a>"})},c=function(a){return a.replace(/(^|[^\w]+)\@([a-zA-Z0-9_]{1,15})/g,function(a,b,c){return b+'<a href="http://twitter.com/'+c+'">@'+c+"</a>"})},d=function(a){return a.replace(/(^|[^\w'"]+)\#([a-zA-Z0-9ÅåÄäÖöØøÆæÉéÈèÜüÊêÛûÎî_]+)/g,function(a,b,c){return b+'<a href="http://search.twitter.com/search?q=%23'+c+'">#'+c+"</a>"})};return d(c(b(a)))},g=function(c){var d=[],g=a(c);return g.find(".js-stream-tweet").each(function(){var c=a(this),g=c.find(".js-tweet-text").find(".tco-ellipsis").remove().end().text(),h=c.find(".tweet-timestamp"),i=new Date(h.attr("title")),j=h.attr("href");d.push({date:i,config:b,html:a.tmpl(e.posted,{tweet:f(g),complete_url:"http://twitter.com/#!/"+j}),url:"http://twitter.com/#!/"+b.user})}),d};return a.ajax({url:"http://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent(d),dataType:"text",success:function(a){c(g(a.replace(/(\r\n|\n|\r)/gm,"").replace(/>\s+</gm,"><").replace(/\s+/gm," ")))}}),{template:e}}}(jQuery),function(a){a.fn.lifestream.feeds.vimeo=function(b,c){var d=a.extend({},{liked:'liked <a href="${url}" title="${description}">${title}</a>',posted:'posted <a href="${url}" title="${description}">${title}</a>'},b.template),e=function(c,e){var f,g,h,i,j=[],k=0,l=e||"liked";if(c)for(f=c.length;f>k;k++)g=c[k],h="posted"===l?new Date(g.upload_date.replace(" ","T")):new Date(g.liked_on.replace(" ","T")),i=g.description?g.description.replace(/"/g,"'").replace(/<.+?>/gi,""):"",j.push({date:h,config:b,html:a.tmpl(d[l],{url:g.url,description:g.description?g.description.replace(/"/g,"'").replace(/<.+?>/gi,""):"",title:g.title})});return j};return a.ajax({url:a.fn.lifestream.createYqlUrl('SELECT * FROM xml WHERE url="http://vimeo.com/api/v2/'+b.user+'/likes.xml" OR '+'url="http://vimeo.com/api/v2/'+b.user+'/videos.xml"'),dataType:"jsonp",success:function(a){var b=[];a.query.results.videos[0].video.length>0&&(b=b.concat(e(a.query.results.videos[0].video))),a.query.results.videos[1].video.length>0&&(b=b.concat(e(a.query.results.videos[1].video,"posted"))),c(b)}}),{template:d}}}(jQuery),function(a){a.fn.lifestream.feeds.wikipedia=function(b,c){var d=b.language||"en",e=a.extend({},{contribution:'contributed to <a href="${url}">${title}</a>'},b.template);return a.ajax({url:"http://"+d+".wikipedia.org/w/api.php?action=query&ucuser="+b.user+"&list=usercontribs&ucdir=older&format=json",dataType:"jsonp",success:function(f){var g,h=[],i=0;if(f&&f.query.usercontribs)for(g=f.query.usercontribs.length;g>i;i++){var j=f.query.usercontribs[i];j.url="http://"+d+".wikipedia.org/wiki/"+j.title.replace(" ","_"),h.push({date:new Date(j.timestamp),config:b,html:a.tmpl(e.contribution,j)})}c(h)}}),{template:e}}}(jQuery),Date.prototype.toISOString||!function(){"use strict";function a(a){var b=String(a);return 1===b.length&&(b="0"+b),b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),$(function(){"use strict";var a=0,b=[{service:"disqus",user:"29553789",key:"munOyX0heZAP70y8iPa4FZDyInDlLVAbeh1ioritgOHKQPZHLXKaDEUFG8Fe5inX"},{service:"fancy",user:"arminrosu"},{service:"github",user:"arminrosu"},{service:"googleplus",user:"115822427604092267963",key:"AIzaSyDLzBxFbGo5e-WbFlMN5MlpdNsm0j2d6nc"},{service:"linkedin",user:"97711736",url:"http://www.linkedin.com/rss/nus?key=SgoqsPsPxlTbHl4cb2ooRUtpi3wK1LNu6dfWHjNAoWWmqMIBNN7urxIBgSoTtIUgBj"},{service:"quora",user:"Armin-Rosu"},{service:"stackoverflow",user:"584441"},{service:"twitter",user:"arminrosu"},{service:"vimeo",user:"arminsan"},{service:"wikipedia",user:"Alexandru.rosu"}];$("#lifestream").lifestream({limit:20,list:b,feedloaded:function(){a++,a===b.length&&($("#lifestream li").each(function(){var a=$(this),b=new Date(a.data("time"));a.append(' <abbr class="timeago" title="'+b.toISOString()+'">'+b+"</abbr>")}),$("#lifestream .timeago").timeago())}})});